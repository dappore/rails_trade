<div class="">

  <div class="thirteen wide column">
    <div class="ui segment">
      <h1>订单列表</h1>
    </div>

    <div class="ui top attached segment">
      <%= render 'search_form' %>
      <%= render 'filter' %>
    </div>

    <table class="ui bottom attached table">
      <thead>
      <tr>
        <th>ID</th>
        <th><%= t 'orders.uuid' %></th>
        <th><%= t 'orders.buyer' %></th>
        <th><%= t 'orders.good_type' %></th>
        <th width="10%"><%= t 'orders.payment_type' %></th>
        <th><%= t 'orders.amount' %></th>
        <th><%= t 'orders.received_amount' %></th>
        <th><%= t 'orders.left_amount' %></th>
        <th><%= t 'orders.currency' %></th>
        <th><%= t 'orders.payment_status' %></th>
        <th><%= t 'orders.created_at' %></th>
        <th><%= t 'orders.state' %></th>
        <th>Actions</th>
      </tr>
      </thead>

      <% @orders.each do |order| %>
        <tr id="order_<%= order.id %>">
          <td><%= order.id %></td>
          <td><%= link_to order.uuid, admin_order_path(order) %></td>
          <td>
            <%= link_to order.user&.name, admin_user_path(order.user_id) %>
          </td>
          <td><%= order.good_type %></td>
          <td><span class="ui label"><%= order.payment_type %></span></td>
          <td><%= order.amount %></td>
          <td><%= order.received_amount %></td>
          <td><%= order.refund_price %></td>
          <td><%= t "currency.#{ order.currency&.upcase }" %></td>
          <td>
            <%= order.payment_status_i18n %>
            <%= link_to 'Refund', refund_admin_order_path(order.id), method: :patch, class: 'ui mini gray button' %>
          </td>
          <td><%= order.created_at.to_s %></td>
          <td><%= order.amount %></td>
          <td>
            <%= link_to 'Show', admin_order_path(order) %>
            <%= link_to 'Edit', edit_admin_order_path(order) %>
          </td>
        </tr>
      <% end %>
    </table>
  </div>
</div>

<%= paginate @orders %>