<div class="ui blue segment">
  <%= search_form_for :q, url: work_refunds_path, method: :get, html: { id: 'search_form' } do |f| %>
    <div class="fields">
      <%= hidden_field_tag :payment_status, params[:payment_status] %>
      <%= f.text_field :'company.name', placeholder: 'Company Name' %>
      <%= f.text_field :uuid, placeholder: 'PO No.' %>
      <%= f.select :payment_method, options_for_select(Order.options_i18n(:payment_method)), { include_blank: true, prompt: 'Select one' }, { } %>
      <%= f.date_field :'created_at.gte', placeholder: 'Transaction Start Date' %>
      <%= f.date_field :'created_at.lte', placeholder: 'Transaction End Date' %>
      <%= f.submit 'Search', class: 'ui blue button' %>
    </div>
  <% end %>
</div>

<script>
  $('#search_form').submit(function(e){
    for (var i = 0; i < this.elements.length; i++) {
      if ( this[i].value.length === 0 ) {
        this[i].disabled = true;
      }

      if ( this[i].name === 'commit' ) {
        this[i].disabled = true;
      }

      if ( this[i].name === 'utf8' ) {
        this[i].disabled = true;
      }
    }
  });
</script>