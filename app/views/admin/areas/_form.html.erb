<%= form_for [:admin, @area], :html => { :class => 'form-horizontal' } do |f| %>
  <%= render "shared/error_messages", :target => @area %>
  <fieldset>
    <legend>地区信息</legend>
    <div class="form-group">
      <%= f.label :parent_id, "上级地区：", :class => "col-md-2 control-label" %>
      <div class="col-md-4"><%= f.select :parent_id, nested_set_options(Area, @area) { |i| "#{'- ' * i.level}#{i.name}" } %></div>
    </div>

    <div class="form-group">
      <%= f.label :name, "名称：", :class => "col-md-2 control-label" %>
      <div class="col-md-5"><%= f.text_field :name, :class => "form-control" %></div>
    </div>

    <div class="form-group">
      <div class="col-md-offset-2 col-md-5">
        <%= f.submit "创建", :class => "btn btn-primary btn-lg" %>
      </div>
    </div>
  </fieldset>
<% end %>

<script type="text/javascript">
  $('#area_parent_id').select2({
    allowClear: true
  });
</script>